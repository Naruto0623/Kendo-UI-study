<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>另一种数据绑定方式 </title>
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2017.3.1018/styles/kendo.common-material.min.css" />
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2017.3.1018/styles/kendo.material.min.css" />
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2017.3.1018/styles/kendo.material.mobile.min.css" />

    <script src="http://kendo.cdn.telerik.com/2017.3.1018/js/jquery.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2017.3.1018/js/kendo.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser-polyfill.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
    <script src="https://unpkg.com/@progress/kendo-all-vue-wrapper/dist/cdn/kendo-all-vue-wrapper.min.js"></script>
</head>
<body>
	<!-- 
		:transport-read-url		列表所有数据加载接口
		:page-size='2'   		控制列表单页条数
		:selectable				可以点选表格单条变蓝色
		:pageable				控制分页显示与否
		:filterable				控制表格过滤功能是否开启
		:column-menu='false'	表格功能只有过滤功能
		:sortable				控制表格开启排序功能
		:scrollable-virtual     列表下拉滚动加载数据
		:groupable				是否可以拖动并编组
		定义显示列
		<kendo-grid-column 
			field="OrderID" 	接口取值
			title="OrderID" 	自定义标题
			:filterable="{ 
							multi: true, 	是否开启复选框搜索
							search:true 	单列搜索功能
						}"  
						:groupable='true' 	是否可以拖动并编组
						:width='120'>		设置单列宽度
			</kendo-grid-column>

		数据加载接口：https://demos.telerik.com/kendo-ui/service/Northwind.svc/Orders
		传输方式：get
		参数：
		$callback:    jQuery191012606362485972755_1511248921592
		$inlinecount: allpages		
		$format:      json				返回数据格式
		$top:         20				单页请求条数
		$skip:        2					页码
		$filter       (OrderID eq '102' and OrderID eq '10244')	条件搜索
		$orderby:     OrderID			升序传
		$orderby:     OrderID desc		降序传

        @databinding="list"     改变列表回调函数，内置ev参数，可获取每次操作后的数组结果
	 -->
	<div id="example">
	    <div id="app">
            <!-- 列表数据绑定 @databinding="list"  -->
            <kendo-grid 
                        :filterable="{ multi: true, search:true }"
                        :data-source="localDataSource" 
                        :columns="columns"
                        :column-menu='true'
                        :selectable='true'
                        :pageable='true'
                        :filterable='true'
                        :groupable='false'
                        :scrollable-virtual='false'
                        :editable="true"
                        :sortable='true'>
            </kendo-grid>
	    </div>
	</div>

    
    <script>
    	new Vue({
        el: '#app',
        data: {
            localDataSource: [
                {
                    'flag': true,
                    "assetsid": "7e28d461-c9cb-4aa1-8e0e-0ca3d854eb66",
                    "assetsids": null,
                    "assetscoding": "0130011",
                    "assetqrcode": "000001001093",
                    "categoryid": "11111113333",
                    "assetname": "1212",
                    "tenantid": "e93a1585-0ba6-429c-ad17-553d150217c0",
                    "stateid": "17748c2e-8687-11e7-9b06-00163e06511f",
                    "snno": "1212",
                    "department": "IT",
                    "useto": "北京",
                    "usename": "121",
                    "userstation": "",
                    "suppliers": "123",
                    "configuration": "1212",
                    "purchasedate": "2017/10/27 19:22:27",
                    "inbounddate": "2017/10/27 19:22:27",
                    "original": "121",
                    "assetvalue": "121",
                    "depreciation": "1111",
                    "smallvalue": "111",
                    "imageupload": "\"u=4131634322,487666839&fm=27&gp=0.jpg\"",
                    "imageuploadurl": "ezg.lenovo.com.cn:8001\\Uploa\\a0138496-e462-4adf-a9a3-ba249d31f419.jpg",
                    "imageuploadnew": "a0138496-e462-4adf-a9a3-ba249d31f419.jpg",
                    "remark": "1212",
                    "customfield": "[{\"name\":\"测试\",\"value\":\"121\",\"type\":\"-1\",\"AssetsID\":null},{\"name\":\"测试\",\"value\":\"121\",\"type\":\"bfe2347f-91e8-11e7-a9c8-00163e102722\",\"AssetsID\":null}]",
                    "createperson": null,
                    "createdate": "2017-10-27 19:22:43",
                    "updateperson": null,
                    "updatedate": null,
                    "deleteflag": null,
                    "cleandate": null,
                    "cleanby": null,
                    "assetclasses": null,
                    "returnid": null,
                    "cleanid": null,
                    "pagesize": null,
                    "pageindex": null,
                    "cleanreasons": null,
                    "loginfoid": null,
                    "godownentryid": null,
                    "orderid": "RK171027072243887",
                    "createname": null,
                    "updatename": null,
                    "newfield": null,
                    "type": null,
                    "list": null,
                    "repairreason": null,
                    "repairtype": null,
                    "repairdate": "0001-01-01 00:00:00",
                    "transferdate": "0001-01-01 00:00:00",
                    "usedate": "0001-01-01 00:00:00",
                    "error": null,
                    "tenantname": null,
                    "enterprisecode": null,
                    "recipientsdate": null,
                    "userrealname": null,
                    "remarks": null
                }
            ],
            list1: true,
            //设置显示列
            columns: [
                // { template: "<input class='k-checkbox' type='checkbox' name='Discontinued' data-type='boolean' data-bind='checked:Discontinued'>",width: '40px' },
                { field: "flag", title: 'flag',format: "{0:c}",width: "20px",template: "<input type='checkbox'" },
                { field: "orderid", title: "Unit Price",editor:this.customBoolEditor, format: "{0:c}", width: "120px" },
                { field: "createdate", title:"Units In Stock", width: "120px" },
                { field: "useto", width: "120px" },
                { field: "department", width: "120px" },
            ],
            //接口搜索
            kendoDataSource: new kendo.data.DataSource({
                transport: {
                    read:  {
                        url: 'https://demos.telerik.com/kendo-ui/service/Products',
                        dataType: 'jsonp'
                    }
                },
                pageSize: 5
            })
        },
        methods: {
        	customBoolEditor: function(ev) {
                debugger;
                var guid = kendo.guid();
                kendo.jQuery('<input class="k-checkbox" id="' + guid + '" type="checkbox" name="Discontinued" data-type="boolean" data-bind="checked:Discontinued">').appendTo(container)
                kendo.jQuery('<label class="k-checkbox-label" for="' + guid + '">&#8203;</label>').appendTo(container);
        	}
        }
    })
    </script>
</body>
</html>